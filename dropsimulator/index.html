<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Skeldoor's Loot Calculator</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/dropsimulator/dropsimulator.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-M5J3QJKJPC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-M5J3QJKJPC');
    </script>
</head>
<body class="loot-calculator-body">

    <div class="container">
        <a href="/" class="back-link">< Back to Home</a>
        <h1>Skeldoor's Loot Calculator</h1>

        <div class="loot-controls">
            <div class="control-row">
                <label>Monster:</label>
                <input type="text" id="monsterInput" placeholder="Monster name or wiki URL (e.g. Black dragon)" value="Shellbane gryphon">
                <button id="fetchBtn">Fetch Drops</button>
            </div>
            <div id="statusMessage" class="status-message"></div>
            <div class="control-row">
                <label>Drop Table:</label>
                <select id="dropVersion">
                    <option value="">-- Fetch a monster first --</option>
                </select>
            </div>
            <div class="control-row">
                <label>Kill Count:</label>
                <input type="number" id="killCount" value="256" min="0" max="10000000">
            </div>
            <div class="control-row">
                <label>Width:</label>
                <input type="number" id="panelWidth" value="400" min="200" max="600" step="10">
                <label>Scale:</label>
                <input type="number" id="scale" value="2" min="1" max="3">
                <label>Frame:</label>
                <select id="frameType">
                    <option value="frame1">Frame 1</option>
                    <option value="frame2">Frame 2</option>
                    <option value="frame3">Frame 3</option>
                </select>
            </div>
        </div>

        <div class="save-controls">
            <button id="saveButton" class="save-button">Save Panel as Image</button>
        </div>

        <div class="panel-container">
            <div class="custom-panel" id="panel">
                <div class="corner tl"></div>
                <div class="edge top"></div>
                <div class="corner tr"></div>
                <div class="edge left"></div>
                <div id="panelContent" class="content">
                    <div class="shadow-overlay"></div>
                    <div class="loot-header">
                        <div class="monster-title">Loot Calculator</div>
                        <div class="kill-subtitle">Enter a monster name to begin</div>
                    </div>
                </div>
                <div class="edge right"></div>
                <div class="corner bl"></div>
                <div class="edge bottom"></div>
                <div class="corner br"></div>
            </div>
        </div>
    </div>

    <script src="/dropsimulator/dropsimulator.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dom-to-image-more@3.6.0/dist/dom-to-image-more.min.js"></script>
</body>
</html>
